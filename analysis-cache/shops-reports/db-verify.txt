
> my-v0-project@0.1.0 db:verify C:\Users\Lenovo\Desktop\Workspce\vo-onelink-google
> node scripts/verify-db.mjs

[dotenv@17.2.2] injecting env (16) from .env.local -- tip: ΓÜÖ∩╕Å  load multiple .env files with { path: ['.env.local', '.env'] }

=== Schema checks (behavioral) ===
Γ£à FKs enforced (invalid supplier_id insert rejected)
Γ£à view present: public.user_admin_view (select works)

=== RLS smoke checks (anon) ===
Γ£à anon can read active products
Γ£à anon can read shops
Γ£à anon can read profiles (public)

=== Authenticated smoke checks ===
Γ£à created test user
Γ£à signed in as test user
Γ£à authed user can read own profile (trigger worked)
Γ£à customer cannot insert products (expected)
Γ£à cleaned up test user

=== Result ===
All checks passed!
